"use strict";(self.webpackChunkwp_event_solution=self.webpackChunkwp_event_solution||[]).push([[555],{12824:(e,t,n)=>{n.d(t,{A:()=>a});const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"}},80635:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(58168),r=n(51609),l=n(12824),i=n(12226),s=function(e,t){return r.createElement(i.A,(0,a.A)({},e,{ref:t,icon:l.A}))};const o=r.forwardRef(s)},3087:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(51609),r=n(29491),l=n(47143),i=n(86087),s=n(27723),o=n(52619),c=n(60742),m=n(47152),d=n(16370),u=n(500),p=n(13444),g=n(10012),_=n(91807),h=n(64282),v=n(70164);const f=(0,l.withSelect)((e=>{const t=e("eventin/global");return{speakerCategories:t.getSpeakerCategories(),isLoading:t.isResolving("getSpeakerCategories")}})),E=(0,l.withDispatch)((e=>{const t=e("eventin/global");return{refreshSpeakerList:()=>t.invalidateResolution("getSpeakerList")}})),A=(0,r.compose)(f,E)((e=>{const{modalOpen:t,setModalOpen:n,speakerCategories:r,refreshSpeakerList:l,formType:f}=e,[E]=c.A.useForm(),[A,y]=(0,i.useState)(!1),k="organizer"===f;return(0,a.createElement)(u.A,{title:(0,s.__)(`Add New ${k?"Organizer":"Speaker"} `,"eventin"),open:t,onCancel:()=>n(!1),cancelText:(0,s.__)("Cancel","eventin"),okText:(0,s.__)(`Add ${k?"Organizer":"Speaker"} `,"eventin"),onOk:async()=>{y(!0);try{await E.validateFields();const e={...E.getFieldsValue(!0),category:k?["organizer"]:["speaker"]},t=await h.A.speakers.createSpeaker(e);if(!t?.id)throw new Error(`Couldn't create ${k?"organizer":"speaker"}  properly!`);l(),n(!1)}catch(e){console.error(`Couldn't create ${k?"organizer":"speaker"} `),(0,o.doAction)("eventin_notification",{type:"error",message:(0,s.__)("Couldn't Create "+(k?"Organizer":"Speaker"),"eventin"),description:`Reason: ${error?.response?.message}`}),console.error(e)}finally{y(!1)}},confirmLoading:A,destroyOnClose:!0,styles:{body:{height:"70vh",overflowY:"auto",overflowX:"hidden",scrollbarWidth:"thin"}}},(0,a.createElement)(c.A,{layout:"vertical",form:E,scrollToFirstError:!0,preserve:!1},(0,a.createElement)(m.A,{gutter:[10,0],style:{paddingRight:"4px"}},(0,a.createElement)(d.A,{xs:24},(0,a.createElement)(c.A.Item,{name:"name",label:(0,s.__)((k?"Organizer":"Speaker")+" name","eventin"),rules:[{required:!0,message:(k?"Organizer":"Speaker")+" name is required!"}]},(0,a.createElement)(g.ks,{placeholder:(0,s.__)("Name of "+(k?"organizer":"speaker"),"eventin"),size:"middle"}))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"designation",label:"Job Title"},(0,a.createElement)(g.ks,{placeholder:(0,s.__)("Designation of "+(k?"organizer":"speaker"),"eventin")}))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"speaker_group",label:(0,s.__)((k?"Organizer":"Speaker")+" Group","eventin"),rules:[{required:!0,message:"Speaker group is required!"}]},(0,a.createElement)(p.A,{options:r,placeholder:(0,s.__)(`Select ${k?"organizer":"speaker"} group`,"eventin"),fieldNames:{label:"name",value:"id"}},(0,a.createElement)(v.A,null)))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"email",label:(0,s.__)("Email address","eventin"),rules:[{required:!0,type:"email",message:(0,s.__)("Please enter valid email address!","eventin")}]},(0,a.createElement)(g.ks,{placeholder:(0,s.__)("Email address of "+(k?"organizer":"speaker"),"eventin")}))),(0,a.createElement)(d.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:"company_name",label:(0,s.__)("Company name","eventin")},(0,a.createElement)(g.ks,{placeholder:(0,s.__)("Company name","eventin")}))),(0,a.createElement)(d.A,{xs:24},(0,a.createElement)("p",{style:{marginBottom:"8px",fontSize:"16px",fontWeight:600,color:"#334155"}},(0,s.__)((k?"Organizer":"Speaker")+" photo","eventin")),(0,a.createElement)(_.nz,{form:E,name:"image"})))))}))},70164:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(51609),r=n(86087),l=n(27723),i=n(29491),s=n(47143),o=n(92911),c=n(7638),m=n(10012),d=n(64282);const u=(0,s.withDispatch)((e=>{const t=e("eventin/global");return{refreshCategoryList:()=>t.invalidateResolution("getSpeakerCategories")}})),p=(0,i.compose)(u)((e=>{const{refreshCategoryList:t}=e,[n,i]=(0,r.useState)(null),[s,u]=(0,r.useState)(!1),p=async()=>{u(!0);try{await d.A.speakerCategories.createCategory({name:n}),i(null),t()}catch(e){console.error("Couldn't create speaker category!"),console.error(e.message)}finally{u(!1)}};return(0,a.createElement)(o.A,{gap:5},(0,a.createElement)(m.ks,{placeholder:(0,l.__)("New Group Name","eventin"),value:n,onChange:e=>{i(e.target.value)},onPressEnter:p}),(0,a.createElement)(c.Ay,{variant:c.zB,onClick:p,loading:s},(0,l.__)("Add New","eventin")))}))},9555:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var a=n(51609),r=n(56427),l=n(86087),i=n(27723),s=n(52619),o=n(69815),c=n(60742),m=n(92911),d=n(47152),u=n(16370),p=n(428),g=n(54861),_=n(32099),h=n(74353),v=n.n(h),f=n(47767),E=n(54725),A=n(7638),y=n(94790),k=n(79664),x=n(18062),b=(n(48842),n(10012)),S=n(57237),w=n(27154),C=n(6836),z=n(64282),F=(n(44278),n(93015));const T=o.default.div`
	background-color: #ffffff;
	border: 1px solid #e1e4e9;
	border-radius: 8px;
	padding: 20px 40px;
	margin-top: 40px;
`,N=function(){const[e]=c.A.useForm(),{id:t}=(0,f.useParams)(),n=(0,f.useNavigate)(),o=!!t,[h,N]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{o&&!h&&(N(!0),z.A.schedule.singleSchedule(t).then((t=>{const n={...t,date:v()(t.date)};e.setFieldsValue(n)})).finally((()=>{N(!1)})))}),[]),(0,a.createElement)("div",{style:{backgroundColor:"#F3F5F7",marginTop:"-20px",paddingBottom:"20px",minHeight:"100vh"}},(0,a.createElement)(r.Fill,{name:w.PRIMARY_HEADER_NAME},(0,a.createElement)(m.A,{justify:"space-between",align:"center"},(0,a.createElement)(m.A,{align:"center",gap:16},(0,a.createElement)(A.Ay,{variant:A.Vt,icon:(0,a.createElement)(E.AngleLeftIcon,null),sx:{height:"36px",width:"36px",backgroundColor:"#fafafa",borderColor:"transparent",lineHeight:"1"},onClick:()=>{n("/schedules")}}),(0,a.createElement)(x.A,{title:o?(0,i.__)("Edit Schedule","eventin"):(0,i.__)("New Schedule","eventin")})),(0,a.createElement)(k.A,null))),(0,a.createElement)(d.A,{gutter:[16,10],justify:"center",style:{margin:"20px 0px"},className:"eventin-schedule-form-wrapper"},(0,a.createElement)(u.A,{xs:22,md:14,className:"eventin-schedule-form-container"},(0,a.createElement)(S.A,{level:3,style:{fontSize:"24px",height:"32px"}},o?(0,i.__)("Edit Schedule","eventin"):(0,i.__)("Create New Schedule","eventin")),(0,a.createElement)(T,null,h&&(0,a.createElement)(m.A,{justify:"center",align:"center",style:{minHeight:"320px"}},(0,a.createElement)(p.A,null)),!h&&(0,a.createElement)(c.A,{layout:"vertical",form:e,scrollToFirstError:!0,size:"large",onFinish:async()=>{N(!0);try{await e.validateFields();const a=e.getFieldsValue(!0);if(a.date=(0,C.dateFormatter)(a.date),o){const e=await z.A.schedule.updateSchedule(t,a);if(!e?.id)throw new Error((0,i.__)("Couldn't edit schedule properly!","eventin"));n("/schedules"),(0,s.doAction)("eventin_notification",{type:"success",message:(0,i.__)("Successfully updated the schedule!","eventin")})}else{const e=await z.A.schedule.createSchedule(a);if(!e?.id)throw new Error((0,i.__)("Couldn't create schedule properly!","eventin"));n("/schedules"),(0,s.doAction)("eventin_notification",{type:"success",message:(0,i.__)("Successfully created the schedule!","eventin")})}}catch(e){console.error((0,i.__)("Couldn't create schedule!","eventin")),console.error(e)}finally{N(!1)}},initialValues:{schedule_slot:[""]}},(0,a.createElement)(d.A,{gutter:[16,0]},(0,a.createElement)(u.A,{xs:24,md:12},(0,a.createElement)(b.ks,{name:"program_title",label:(0,i.__)("Program Title","eventin"),rules:[{required:!0,message:(0,i.__)("Program title is required!","eventin")}],required:!0,placeholder:(0,i.__)("Program title","eventin"),size:"large"})),(0,a.createElement)(u.A,{xs:24,md:12},(0,a.createElement)(c.A.Item,{name:"date",label:(0,i.__)("Date","eventin"),rules:[{required:!0,message:(0,i.__)("Program date is required!","eventin")}]},(0,a.createElement)(g.A,{size:"large",minDate:v()(new Date),style:{width:"100%"},format:(0,C.getDateFormat)()})))),(0,a.createElement)(d.A,{gutter:[16,0]},(0,a.createElement)(u.A,{xs:24},(0,a.createElement)(m.A,{align:"center"},(0,a.createElement)("p",{style:{margin:"5px 0px",fontSize:"16px",fontWeight:500}},(0,i.__)("Schedule Topics","eventin")),(0,a.createElement)(_.A,{title:(0,i.__)("Give attendees a sneak peek at the key topics your event will address.","eventin")},(0,a.createElement)("span",{style:{marginLeft:"7px"}},(0,a.createElement)(E.InfoCircleOutlined,{width:15,height:15})))),(0,a.createElement)(c.A.List,{name:"schedule_slot",label:(0,i.__)("Schedule Topics","eventin")},((t,{add:n,remove:r},{errors:l})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(F.A,{fields:t,form:e,remove:r}),(0,a.createElement)(c.A.Item,null,(0,a.createElement)(y.A,null,(0,a.createElement)(A.Ay,{variant:A.Rm,onClick:()=>n(),icon:(0,a.createElement)(E.PlusOutlined,{width:16,height:16}),size:"middle",sx:{width:"100%",fontSize:"14px",fontWeight:500,height:"36px"}},(0,i.__)("Add Topic","eventin"))))))))),(0,a.createElement)(m.A,{gap:16},(0,a.createElement)(A.Ay,{variant:A.zB,loading:h,htmlType:"submit"},(0,i.__)(o?"Update Schedule":"Create Schedule","eventin")),(0,a.createElement)(A.Ay,{variant:A.Rm,htmlType:"reset",onClick:()=>n("/schedules")},(0,i.__)("Cancel","eventin"))))))))}},44278:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(51609),r=n(27723),l=n(86087),i=n(69815),s=n(62567),o=n(60742),c=n(47152),m=n(16370),d=n(79888),u=n(54725),p=n(7638),g=n(78847),_=n(37845),h=n(10012),v=n(6836),f=n(3087);const E=(0,i.default)(s.A)`
	.ant-collapse-content-box {
		background-color: #f5f5f5;
	}
`,A=e=>{const{form:t,field:n,remove:i}=e,[s,A]=(0,l.useState)(!1),[y,k]=(0,l.useState)(!1),[x,b]=(0,l.useState)(!1),S=[({getFieldValue:e})=>({validator(t,a){const r=e(["schedule_slot",n.name,"etn_shedule_end_time"]);if(r){const e=(0,v.getFormattedDateTime)({time:a});if((0,v.getFormattedDateTime)({time:r}).isBefore(e,"minutes"))return Promise.reject("Start time must be before end time")}return Promise.resolve()}})],w=[({getFieldValue:e})=>({validator(t,a){const l=e(["schedule_slot",n.name,"etn_shedule_start_time"]);if(l){const e=(0,v.getFormattedDateTime)({time:l});if((0,v.getFormattedDateTime)({time:a}).isBefore(e,"minutes"))return Promise.reject((0,r.__)("End time must be after start time","eventin"))}return Promise.resolve()}})],C=[{key:1,label:o.A.useWatch(["schedule_slot",n.name,"etn_schedule_topic"],{form:t,preserve:!0})||(0,r.__)("New Schedule Topic","eventin"),children:(0,a.createElement)(c.A,{gutter:[20,0]},(0,a.createElement)(m.A,{xs:24},(0,a.createElement)(h.ks,{name:[n.name,"etn_schedule_topic"],label:(0,r.__)("Topic Name","eventin")})),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(g.A,{name:[n.name,"etn_shedule_start_time"],label:(0,r.__)("Start Time","eventin"),rules:S,dependencies:[["schedule_slot",n.name,"etn_shedule_end_time"]]})),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(g.A,{name:[n.name,"etn_shedule_end_time"],label:(0,r.__)("End Time","eventin"),dependencies:[["schedule_slot",n.name,"etn_shedule_start_time"]],rules:w})),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(o.A.Item,{name:[n.name,"speakers"],label:(0,r.__)("Speaker","eventin")},(0,a.createElement)(_.A,{placeholder:(0,r.__)("Select the speakers for this event","eventin")},(0,a.createElement)(p.yl,{onClick:()=>A(!0)},(0,r.__)("Add new speakers","eventin"))))),(0,a.createElement)(m.A,{md:12,xs:24},(0,a.createElement)(h.ks,{prefix:(0,a.createElement)(u.LocationOutlined,null),name:[n.name,"etn_shedule_room"],label:(0,r.__)("Location","eventin")})),(0,a.createElement)(m.A,{xs:24},(0,a.createElement)(o.A.Item,{name:[n.name,"etn_shedule_objective"],label:(0,r.__)("Description","eventin")},(0,a.createElement)(d.A.TextArea,{className:"eventin-text-area",rows:3}))),(0,a.createElement)(f.A,{modalOpen:s,setModalOpen:A})),extra:x&&(0,a.createElement)(p.Ay,{variant:p.qy,icon:(0,a.createElement)(u.DeleteOutlined,{stroke:y?"#FF4D4F":"#747474"}),onClick:()=>i(n.name),onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),size:"small"})}];return(0,a.createElement)(E,{expandIconPosition:"end",className:"etn-schedule-topic",items:C,style:{margin:"15px 0px"},accordion:!0,defaultActiveKey:[1],onChange:e=>b(!e?.length)})}},64463:(e,t,n)=>{n.d(t,{X:()=>m});var a=n(51609),r=n(43627),l=n(74979),i=n(69815),s=n(80635),o=n(44278);const c=i.default.div`
	position: relative;
	touch-action: none; // Important for mobile drag

	.drag-handle {
		position: absolute;
		left: -30px;
		top: 20px; // Align with accordion header
		height: 24px;
		width: 24px;
		display: flex;
		align-items: center;
		justify-content: center;
		color: #747474;
		cursor: grab;
		transition: color 0.2s ease;
		z-index: 10;
		background: white; // Optional: add background to ensure visibility

		&:hover {
			color: #40a9ff;
		}

		&.dragging {
			cursor: grabbing;
		}
	}

	&.dragging {
		z-index: 1;
		.etn-schedule-topic {
			background: white;
			box-shadow: 0 0 10px rgba( 0, 0, 0, 0.1 );
		}
	}
`;function m({id:e,field:t,remove:n,form:i}){const{attributes:m,listeners:d,setNodeRef:u,transform:p,transition:g,isDragging:_}=(0,r.gl)({id:e,transition:{duration:150,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),h={transform:l.Ks.Transform.toString(p),transition:g};return(0,a.createElement)(c,{ref:u,style:h,className:_?"dragging":""},(0,a.createElement)("div",{className:"drag-handle "+(_?"dragging":""),...m,...d},(0,a.createElement)(s.A,null)),(0,a.createElement)(o.A,{field:t,remove:n,form:i}))}},93015:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(51609),r=n(15871),l=n(43627),i=n(69815),s=n(64463);const o=i.default.div`
	margin-left: 30px;
	position: relative;

	.etn-schedule-topic {
		margin: 15px 0;
		transition: transform 200ms ease;
	}

	.etn-schedule-topic:first-of-child {
		margin-top: 0;
	}

	.etn-schedule-topic:last-child {
		margin-bottom: 0;
	}
`,c=({fields:e,form:t,remove:n})=>{const i=(0,r.FR)((0,r.MS)(r.AN,{activationConstraint:{distance:1}}),(0,r.MS)(r.uN,{coordinateGetter:l.JR}));return(0,a.createElement)(o,null,(0,a.createElement)(r.Mp,{sensors:i,collisionDetection:r.fp,onDragEnd:n=>{const{active:a,over:r}=n;if(r&&a.id!==r.id){const n=e.findIndex((e=>e.key===a.id)),i=e.findIndex((e=>e.key===r.id)),s=t.getFieldValue("schedule_slot");if(s){const e=(0,l.be)(s,n,i);t.setFieldsValue({schedule_slot:e})}const o=(0,l.be)(e,n,i);e.splice(0,e.length,...o)}}},(0,a.createElement)(l.gB,{items:e.map((e=>e.key)),strategy:l._G},e.map((e=>(0,a.createElement)(s.X,{key:e.key,id:e.key,field:e,remove:n,form:t}))))))}}}]);